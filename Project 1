from tkinter import * 
import tkinter as tk
import math
from tkinter import simpledialog
from tkinter import messagebox
from PIL import Image, ImageTk  
      
def dimensions():             #creates dimensions class for either circular or rectangular cross section        
    B2 = tk.Button(text="Results", command=calculations).grid(row=8, column=4)
    B1.destroy()
    if Button.get()==1:
        r2.destroy()  #hides button once one is selected
        label2.destroy()
        tk.Label(root,text="""What is the radius in mm?""").grid(row = 4, column = 0) #distinguishes what value to input
        tk.Label(root,text="""What is the length of the beam in mm?""").grid(row = 5, column = 0)
        tk.Label(root,text="""What is the transverse force in N?""").grid(row = 6, column = 0)
        tk.Label(root,text="""What is the axial force in N?""").grid(row = 7, column = 0)
        tk.Entry(textvariable = l).grid(row=4, column=1)           #user inputted value
        tk.Entry(textvariable = r).grid(row=5, column=1)
        tk.Entry(textvariable = TransverseForce).grid(row=6,column=1)
        tk.Entry(textvariable = AxialForce).grid(row=7,column=1)
        
    elif Button.get()==2:
        r1.destroy()
        label1.destroy()
        tk.Label(root,text="""What is the base of the cross section in mm?""").grid(row = 4, column = 0)
        tk.Label(root,text="""What is the height of the cross section in mm?""").grid(row = 5, column = 0)
        tk.Label(root,text="""What is the length of the beam in mm?""").grid(row = 6, column = 0)
        tk.Label(root,text="""What is the transverse force in N?""").grid(row = 7, column = 0)
        tk.Label(root,text="""What is the axial force in N?""").grid(row = 8, column = 0)
        tk.Entry(textvariable = b).grid(row=4, column=1)
        tk.Entry(textvariable = h).grid(row=5, column=1)
        tk.Entry(textvariable = l).grid(row=6, column=1)
        tk.Entry(textvariable = TransverseForce).grid(row=7, column=1)
        tk.Entry(textvariable = AxialForce).grid(row=8,column=1)

def calculations():       #creates the calculations class for the different stresses in certain cross section
    if Button.get() == 1:
        M = (int(TransverseForce.get()))*(int(l.get()))  #int.get allows the string to be converted to an integer
        y=(int(r.get()))
        I=((math.pi)/(4))*((int(r.get()))**4)
        A=(math.pi)*(int(r.get()))**2
        bending=(M*y)/(I)
        axial=(int(AxialForce.get()))/A
        res = bending + axial
    elif Button.get() == 2:
        M = (int(TransverseForce.get()))*(int(l.get()))  
        y=(int(h.get()))/ (2)  
        I=((int(b.get()))*((int(h.get()))**3))/(12)
        A=(int(b.get()))*(int(h.get()))
        bending=(M*y)/(I)
        axial=(int(AxialForce.get()))/(A)
        res = bending + axial
    else:
        res ="No Choice selected"
    messagebox.showinfo("Found Stresses",  "\n".join(["Bending:"+str(bending) + "MPa" ,"Axial:"+str(axial) + "MPa","Resultant:" +str(res) + "MPa"]))
    
root = tk.Tk()  #creates root window
r =tk.StringVar()  #assigns variables as strings
b =tk.StringVar()
h =tk.StringVar()
l =tk.StringVar()
AxialForce =tk.StringVar()
TransverseForce =tk.StringVar()
root.title("Stress Calculator")   

Button = tk.IntVar()
myText=tk.StringVar()

image1 = PhotoImage(file = "circular.png")  
resize_image = image1.subsample(6, 6)
label1 = Label(image=resize_image)
label1.grid(row=0, column = 0)
tk.Label(root,text="").grid(row = 0, column = 0)

image2 = PhotoImage(file = "rectangle.png")
resize_image1 = image2.subsample(2, 2)
label2 = Label(image=resize_image1)
label2.grid(row=0, column = 7)

r1 = tk.Radiobutton(text="Circular",
    variable=Button, value=1)
r1.grid(row=2,column=0)
r2 = tk.Radiobutton(text="Rectangular",
    variable=Button, value=2)
r2.grid(row=2,column=7) 
B1 = tk.Button(text="Continue", command=dimensions)
B1.grid(row=1, column=4)
result=tk.Label(text="(result)", textvariable=myText).grid(row=5,column=0)
root.mainloop()
